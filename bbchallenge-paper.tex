% !TeX root = bbchallenge-paper.tex

\title{Formal verification of the 5\textsuperscript{th} Busy Beaver value}
\author{
        bbchallenge's contributors
}

\documentclass[a4paper,british]{article}

\usepackage{babel}
\usepackage[utf8]{inputenc}
\usepackage[margin=1in]{geometry}
%\usepackage{subfig}
\usepackage[hidelinks]{hyperref}
\usepackage{caption}
\usepackage{floatpag}
\usepackage{subcaption}
\usepackage{tikz}

\usepackage{algorithm}
\usepackage[noend]{algpseudocode}


\usepackage{graphicx}
\usepackage{mathtools}

\usepackage{amsmath,amsfonts,amssymb,amsthm}

\theoremstyle{definition} % don't use italics
\newtheorem{theorem}{Theorem}[section]
\newtheorem{definition}{Definition}[section]
\newtheorem{lemma}{Lemma}[section]
\newtheorem{proposition}{Proposition}[section]
\newtheorem{corollary}{Corollary}[section]
\numberwithin{equation}{section}


\theoremstyle{definition} % emphasize the "Remark N." with italics, not bold
\newtheorem{observation}{Observation}[section]
\newtheorem{example}{Example}[section]
\newtheorem{remark}{Remark}[section]

\usepackage{xassoccnt}
\DeclareCoupledCountersGroup{theorems}
\DeclareCoupledCounters[name=theorems]{theorem,definition,lemma,proposition,corollary,remark,observation,example}

\usepackage{microtype,xspace,wrapfig,multicol} 
\usepackage[textsize=tiny,color=lightgray]{todonotes} 
\usepackage[normalem]{ulem} % sout
\usepackage{stmaryrd}

\newcommand{\ts}[1]{{\color{red}#1}}
\newcommand{\tsi}[1]{\todo[inline]{TS: #1}}
\newcommand{\tsm}[1]{\todo{TS: #1}}
\newcommand{\tss}[2]{{\ts{\sout{#1}}} {\ts{#2}}}
\newcommand{\jb}[1]{{\color{blue}#1}}
\newcommand{\jbi}[1]{\todo[inline]{JB: #1}}
\newcommand{\jbm}[1]{\todo{JB: #1}}
\newcommand{\jbs}[2]{{\jb{\sout{#1}}} {\jb{#2}}}
\newcommand{\tabi}{\hspace{\algorithmicindent}}
\newcommand{\Lim}[1]{\raisebox{0.5ex}{\scalebox{0.8}{$\displaystyle \lim_{#1}\;$}}}
\newcommand{\N}{\mathbb{N}}
\newcommand{\Z}{\mathbb{Z}}

\newcommand{\lhead}[1]{\stackrel{#1}\triangleleft}
\newcommand{\rhead}[1]{\stackrel{#1}\triangleright}

\newcommand{\tm}[1]{\href{https://bbchallenge.org/#1}{\nolinkurl{#1}}}

\usepackage{xcolor}

\definecolor{colorA}{RGB}{255,0,0}
\definecolor{colorB}{RGB}{255,128,0}
\definecolor{colorC}{RGB}{0,0,255}
\definecolor{colorD}{RGB}{0,255,0}
\definecolor{colorE}{RGB}{255,0,255}

\newcommand{\stateA}{{\textcolor{colorA}{A}}\xspace}
\newcommand{\stateB}{{\textcolor{colorB}{B}}\xspace}
\newcommand{\stateC}{{\textcolor{colorC}{C}}\xspace}
\newcommand{\stateD}{{\textcolor{colorD}{D}}\xspace}
\newcommand{\stateE}{{\textcolor{colorE}{E}}\xspace}

\newcommand{\szero}{\texttt{0}\xspace}
\newcommand{\sone}{\texttt{1}\xspace}


\begin{document}
\date{}
\maketitle

\begin{abstract}
    ee
\end{abstract}


\setcounter{tocdepth}{2}
\tableofcontents
\newpage
\section{Introduction}

\newcommand{\BBtheFifth}{47{,}176{,}870}
\newcommand{\SigmaTheFifth}{4{,}098}

\newcommand{\radofull}{Tibor Rad\'o\xspace}
\newcommand{\rado}{Rad\'o\xspace}
\newcommand{\noncomput}{noncomputable\xspace}
\newcommand{\BBfull}{Busy Beaver\xspace}
\newcommand{\Coq}{Coq\xspace}
% We'll update this link to v1 release URL
\newcommand{\CoqProofReleaseURL}{\url{https://github.com/ccz181078/Coq-BB5}}

\newcommand{\ie}{i.e.\xspace}

In 1962, \radofull introduced \textit{the \BBfull game} in an effort to ``present some very simple instances of \noncomput functions'' \cite{Rado_1962}. The original game was as such: (i) run all $n$-state Turing machines\footnote{See Appendix~\ref{app:TMs} for Turing machines definitions and examples.} from the all-zero tape (ii) consider the set of machines that eventually halt (iii) the winner of the game is the halting machine that has the most \sone symbols on its tape when it halts. This maximum number of \sone symbols on halting tape among $n$-state machines is called $\Sigma(n)$. The other function introduced by \rado is called $S$ and $S(n)$ is the maximum number of steps made by a halting $n$-state Turing machine from all-zero tape. Both functions $\Sigma$ and $S$ are \noncomput\footnote{Interestingly, the original proof that $\Sigma$ and $S$ are \noncomput does not rely on the halting problem \cite{Rado_1962}.}! The most obvious is the case of $S$: if an $n$-state machine runs for more than $S(n)+1$ steps, we know it will never halt, giving an algorithm to decide the halting problem is $S$ was computable.


Similarly to other authors \cite{BusyBeaverFrontier, arethremore?} and because of the tight relationship between $S$ and the halting problem, we take the liberty to focus the busy beaver game on $S$ instead of $\Sigma$ and to call the $n$-state \textit{busy beaver winner} the machine achieving $S(n)$ running steps. Prior to this work, only the four first values of $S$ (and $\Sigma$) had been proved: $S(1)=1$, $S(2)=6$ \cite{Rado_1962}, $S(3) = 21$ \cite{Lin1963}, $S(4) = 107$ \cite{Brady83}.

With some early attempts in the 1960s and 1970s, the $S(5)$ quest seriously started in 1983 with a 2-day competition organised at the university of Dortmund\footnote{Report of the competition: \url{https://docs.bbchallenge.org/other/lud20.pdf}.} with sole goal to find new 5-state champions (\ie 5-state machines achieving better $S$/$\Sigma$ scores than previously known ones). The best machine achieved $134,467$ steps, establishing $S(5) \geq 134,467$. A big step was then made in 1989 when Marxen and Buntrock found a new champion\footnote{\url{https://bbchallenge.org/1RB1LC_1RC1RB_1RD0LE_1LA1LD_1RZ0LA} \ts{Eventually improve this by putting the full transition table, potentially in a standalone figure with illustrations.}} achieving $\BBtheFifth$ steps \cite{Marxen_1990}, showing $S(5) \geq \BBtheFifth$. However, it remained unknown if no other machine could beat it, \ie whether Marxen and Buntrock's 5-state machine was the actual winner or not. In 2020, Aaronson conjectured that there is no better 5-state machine, \ie $S(5) = \BBtheFifth$ \cite{BusyBeaverFrontier}.

Our main result is to prove this conjecture, using the \Coq theorem prover\footnote{The \Coq proof is available at: \CoqProofReleaseURL}, see Theorem~\ref{th:BB5}. The 5-state winner for $S$ is also the winner for $\Sigma$ and we show that $\Sigma(5) = \SigmaTheFifth$, see Theorem~\ref{th:BB5Sigma}.


\begin{theorem}[5\textsuperscript{th} \BBfull value]\label{th:BB5}
    $S(5) = \BBtheFifth$.
\end{theorem}

\begin{theorem}\label{th:BB5Sigma}
    $\Sigma(5) = \SigmaTheFifth$.
\end{theorem}


\section{Deciders}

% \input{sections/decider-0-cyclers.tex}
% \input{sections/decider-1-translated-cyclers.tex}
\input{sections/decider-2-NGramCPS.tex}
% \input{sections/decider-3-RepWL.tex}
% \input{sections/decider-4-FAR.tex}
% \input{sections/decider-5-MITM-WFAR.tex}

\section{Sporadic Machines}


\bibliographystyle{abbrv}
\newpage
\bibliography{bbchallenge-paper}

\end{document}
